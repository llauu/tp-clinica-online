import{a as F,c as O,d as T,f as j,h as N,i as W,o as B}from"./chunk-KKKNWOTH.js";import{a as S}from"./chunk-HTSGBBHS.js";import{C as x,E,F as I,J as L,L as P}from"./chunk-PW2C6INU.js";import{f as k,g as w}from"./chunk-4GSK5XHJ.js";import{$a as b,Ab as M,Ma as m,Na as d,ca as h,fb as v,jb as n,kb as i,lb as _,qb as p,rb as C,tb as a,ub as y,wb as u,xb as g,yb as f}from"./chunk-ZLKBHWEC.js";function z(c,s){if(c&1&&(n(0,"p",12),a(1),i()),c&2){let D=C();m(),y(D.errorMsg)}}var U=(()=>{let s=class s{constructor(o,t,e){this.firestore=o,this.router=t,this.authService=e,this.email="",this.pass="",this.errorMsg=""}login(){this.authService.login(this.email,this.pass).then(o=>{let t=x(this.firestore,"users"),e=E(t,I("mail","==",o.user.email));P(e).subscribe(r=>{console.log(r[0])}),this.router.navigate(["/bienvenida"])}).catch(o=>{switch(o.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/invalid-credential":this.errorMsg="El correo electronico o contrase\xF1a son incorrectos.";break}})}fillInputs(o,t){let e=document.getElementById("email");e&&(e.value=o,this.email=o);let l=document.getElementById("pass");l&&(l.value=t,this.pass=t)}};s.\u0275fac=function(t){return new(t||s)(d(L),d(k),d(S))},s.\u0275cmp=h({type:s,selectors:[["app-login"]],standalone:!0,features:[M],decls:30,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5","login-container"],[1,"card","shadow","mt-4"],[1,"card-header"],[1,"text-center","my-3"],[1,"card-body"],[1,"form-group","mt-3"],["for","email"],["type","email","name","email","id","email","placeholder","Ingrese su correo electronico",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","pass","id","pass","placeholder","Ingrese su contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-msg"],[1,"d-flex","justify-content-center","mt-5"],["type","submit",1,"btn","btn-primary","btn-block","btn-login",3,"click"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-link",3,"click"],[1,"border-bottom"],[1,"d-flex","justify-content-center","mt-4","mb-1"],["type","button","routerLink","../register",1,"btn","btn-secondary","btn-reg"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),a(6,"Inicio de sesion"),i()(),n(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),a(11,"Correo electronico"),i(),n(12,"input",9),f("ngModelChange",function(r){return g(e.email,r)||(e.email=r),r}),i()(),n(13,"div",7)(14,"label",10),a(15,"Contrase\xF1a"),i(),n(16,"input",11),f("ngModelChange",function(r){return g(e.pass,r)||(e.pass=r),r}),i()(),b(17,z,2,1,"p",12),n(18,"div",13)(19,"button",14),p("click",function(){return e.login()}),a(20,"Iniciar sesion"),i()(),n(21,"div",15)(22,"button",16),p("click",function(){return e.fillInputs("especialista@mail.com","123especialista")}),a(23,"Especialista"),i(),n(24,"button",16),p("click",function(){return e.fillInputs("paciente@mail.com","123paciente")}),a(25,"Paciente"),i()()(),_(26,"div",17),n(27,"div",18)(28,"button",19),a(29,"Crear cuenta nueva"),i()()()()()()()),t&2&&(m(12),u("ngModel",e.email),m(4),u("ngModel",e.pass),m(),v(17,e.errorMsg!=""?17:-1))},dependencies:[B,W,F,O,T,N,j,w],styles:[".card-header[_ngcontent-%COMP%]{background-color:#e4e4e4;border:none}.login-container[_ngcontent-%COMP%]{z-index:1;margin-top:100px}.google-icon[_ngcontent-%COMP%]{width:27px;height:27px;cursor:pointer}.btn-login[_ngcontent-%COMP%]{width:80%;font-weight:900;font-size:21px;background-color:#fc573a;border:none}.btn-login[_ngcontent-%COMP%]:hover{background-color:#dc462c;transition:all .2s}.btn-reg[_ngcontent-%COMP%]{width:60%;font-size:16.5px}.error-msg[_ngcontent-%COMP%]{color:red;position:absolute}"]});let c=s;return c})();export{U as LoginComponent};
